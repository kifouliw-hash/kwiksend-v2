<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>KwikSend - Recevoir de l'argent</title>
  <meta name="description" content="Recevez de l‚Äôargent via KwikSend : partagez votre lien ou QR code pour des transferts rapides et s√©curis√©s.">
  <meta name="theme-color" content="#ff7a00">

  <!-- Favicon & ic√¥nes -->
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
  <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
  <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">

  <!-- Manifest PWA -->
  <link rel="manifest" href="site.webmanifest">

  <!-- Styles -->
  <link rel="stylesheet" href="style.css">
</head>
<body>

<!-- üß≠ Header -->
<header>
  <div class="container header-container">
    <div class="logo">Kwik<span>Send</span></div>
    <nav>
      <ul class="nav-links">
        <li><a href="dashboard.html">Accueil</a></li>
        <li><a href="portefeuille.html">Portefeuille</a></li>
        <li><a href="transfert.html">Transfert</a></li>
        <li><a href="kwiktransfert.html">KwikTransfert</a></li>
        <li><a href="mobile.html">Mobile Money</a></li>
      </ul>
    </nav>
    <div class="header-actions">
      <button class="cta" onclick="logout()">D√©connexion</button>
    </div>
  </div>
</header>

<!-- üì• Recevoir -->
<section class="hero" style="padding:2rem 1rem;">
  <div class="hero-content" style="max-width:650px;margin:auto;text-align:center;">
    <h1>üì• Recevoir de l‚Äôargent</h1>
    <p>Partagez votre lien ou QR code pour recevoir un transfert instantan√©.</p>

    <!-- QR Code mock -->
    <div style="margin:2rem auto;width:200px;height:200px;background:white;padding:10px;border-radius:8px;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 10px rgba(0,0,0,0.1);">
      <img src="https://api.qrserver.com/v1/create-qr-code/?size=180x180&data=https://kwiksend.com/user123" alt="QR Code KwikSend">
    </div>

    <!-- Lien unique -->
    <p><strong>Mon lien KwikSend :</strong></p>
    <p style="word-break:break-all;color:#0a8f2f;">https://kwiksend.com/user123</p>

    <!-- Boutons de partage -->
    <div style="margin-top:1.5rem;display:flex;gap:1rem;justify-content:center;">
      <button onclick="shareWhatsApp()">üì≤ Partager WhatsApp</button>
      <button onclick="shareEmail()">‚úâÔ∏è Partager Email</button>
    </div>

    <!-- Simulation r√©ception -->
    <div style="margin-top:2rem;">
      <button onclick="simulateIncoming()" class="cta">üí∞ Simuler un virement re√ßu</button>
    </div>
  </div>
</section>

<!-- üìù Footer -->
<footer>
  <p>¬© 2025 KwikSend. <span>Tous droits r√©serv√©s.</span></p>
</footer>

<!-- üìú Scripts communs -->
<script src="script.js"></script>
<script src="translate.js"></script>
<script src="app.js"></script>

<!-- üì≤ Logique -->
<script>
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('/sw.js').catch(console.error);
  }

  // --- Partage
  function shareWhatsApp() {
    const link = encodeURIComponent("Re√ßois de l‚Äôargent via mon lien KwikSend : https://kwiksend.com/user123");
    window.open("https://wa.me/?text=" + link, "_blank");
  }

  function shareEmail() {
    window.location.href = "mailto:?subject=Mon lien KwikSend&body=Re√ßois de l‚Äôargent via mon lien KwikSend : https://kwiksend.com/user123";
  }

  // --- Simulation r√©ception avec mise √† jour portefeuille + historique
  function simulateIncoming() {
    const BAL_KEY = 'ks_balance';
    const HIST_KEY = 'ks_history';

    const amount = 75; // montant test
    let balance = parseFloat(localStorage.getItem(BAL_KEY) || '0');
    let history = JSON.parse(localStorage.getItem(HIST_KEY) || '[]');

    // cr√©dit
    balance += amount;
    localStorage.setItem(BAL_KEY, balance);

    // historique
    history.unshift({
      date: new Date().toLocaleString(),
      type: "R√©ception",
      amount: amount,
      from: "Transfert externe",
      status: "valid√©"
    });
    localStorage.setItem(HIST_KEY, JSON.stringify(history));

    alert(`‚úÖ Vous avez re√ßu ${amount} EUR sur votre portefeuille KwikSend.`);
    window.location.href = "portefeuille.html";
  }

  // --- D√©connexion
  function logout(){
    localStorage.removeItem("kwiksend_user");
    window.location.href = "index.html";
  }
</script>
</body>
</html>