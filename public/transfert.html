<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Transfert KwikSend</title>
  <link rel="stylesheet" href="style.css">
  <style>
    /* Variables CSS Ã  intÃ©grer dans transfert.html ou dans le fichier style.css */
    :root {
      --orange: #ff7a00;
      --yellow: #ffcc00;
      --green-cta: #0a8f2f;
      --text-dark: #1a1a1a;
      --text-light: #ffffff;
      --bg-light: #fdf8f3;
    }

    /* Styles de la page */
    body {
      background: var(--bg-light);
      color: var(--text-dark);
      font-family: 'Poppins', sans-serif;
    }

    .cta {
      background: var(--green-cta);
      color: var(--text-light);
      font-weight: 600;
      padding: 0.8rem 1.5rem;
      border-radius: 15px;
      transition: background-color 0.3s ease;
    }

    .cta:hover {
      background-color: darken(var(--green-cta), 10%);
    }

    .header {
      background: linear-gradient(90deg, var(--orange), var(--yellow));
      color: var(--text-light);
      padding: 1rem 0;
    }

    .hero {
      background: linear-gradient(90deg, var(--orange), var(--yellow));
      color: var(--text-light);
      padding: 4rem 2rem;
      text-align: center;
    }

    .footer {
      background: var(--text-dark);
      color: var(--text-light);
      text-align: center;
      padding: 2rem;
    }

    /* Formulaire */
    .form {
      margin: 2rem auto;
      max-width: 600px;
    }

    input, select, button {
      padding: 10px;
      border: 1px solid var(--yellow);
      border-radius: 10px;
      margin-bottom: 1rem;
    }

    button {
      background-color: var(--green-cta);
      color: var(--text-light);
    }

    /* Boutons */
    .btn {
      background: var(--green-cta);
      color: var(--text-light);
      font-weight: 600;
      padding: 0.8rem 1.5rem;
      border-radius: 15px;
      transition: background-color 0.3s ease;
    }

    .btn:hover {
      background-color: darken(var(--green-cta), 10%);
    }

    /* Section d'envoi et de rÃ©ception */
    .send, .receive {
      width: 100%;
      margin-bottom: 2rem;
    }

    .section-title {
      text-align: center;
      font-size: 2rem;
      margin-bottom: 1rem;
    }
  </style>
</head>
<body>

<!-- ğŸ”› Header -->
<header class="header">
  <div class="header-container">
    <div class="logo">Kwik<span>Send</span></div>
    <nav>
      <ul class="nav-links">
        <li><a href="dashboard.html">Accueil</a></li>
        <li><a href="portefeuille.html">Portefeuille</a></li>
        <li><a href="transfert.html" class="cta">Transfert</a></li>
        <li><a href="kwiksend-transfer.html">KwikSend Transfer</a></li>
        <li><a href="releves.html">RelevÃ©s</a></li>
        <li><a href="profile.html">Compte</a></li>
        <li><a href="#" onclick="logout()">DÃ©connexion</a></li>
      </ul>
    </nav>
    <div class="header-actions">
      <select id="langSwitcher" onchange="switchLang(this.value)">
        <option value="fr">FR</option>
        <option value="en">EN</option>
      </select>
    </div>
  </div>
</header>

<!-- ğŸŒŸ Section Transfert -->
<section class="hero">
  <h1>ğŸŒ Transfert Afrique â†” Europe</h1>
  <p>Choisissez votre destination et votre moyen de paiement.</p>

  <!-- ğŸ”„ Toggle Direction -->
  <div class="direction-toggle">
    <button class="toggle-btn active" data-direction="send" onclick="switchDirection('send')" type="button">ğŸ’¸ Envoyer</button>
    <button class="toggle-btn" data-direction="receive" onclick="switchDirection('receive')" type="button">ğŸ“¥ Recevoir</button>
  </div>

  <!-- ğŸ“¤ Formulaire Envoyer -->
  <form id="formSend" class="form send" style="display: block;">
    <div class="section-title">Envoi en cours...</div>
    <label for="destinationSend">ğŸŒ Destination :</label>
    <select id="destinationSend" onchange="updateOperators()">
      <option value="africa">ğŸŒ Afrique (Mobile Money)</option>
      <option value="europe">ğŸ‡ªğŸ‡º Europe (IBAN)</option>
    </select>

    <label id="receiverLabel">ğŸ“ NumÃ©ro ou IBAN :</label>
    <input type="text" id="receiverSend" placeholder="Entrez votre numÃ©ro ou IBAN" required>

    <label>ğŸ’° Montant :</label>
    <div style="display: flex;">
      <input type="number" id="amountSend" placeholder="100" required style="flex: 1;">
      <select id="currencySend" onchange="updateSimulation()">
        <option value="EUR">EUR</option>
        <option value="FCFA">FCFA</option>
      </select>
    </div>

    <!-- ğŸ”¹ Moyens de paiement -->
    <h3>ğŸ’³ Moyen de paiement</h3>
    <div id="paymentOptions">
      <button type="button" onclick="selectPaymentMethod('wallet')">ğŸ’³ Portefeuille</button>
      <button type="button" onclick="selectPaymentMethod('card')">ğŸ’³ Carte Bancaire</button>
      <button type="button" onclick="selectPaymentMethod('mobile')">ğŸ“² Mobile Money</button>
    </div>

    <button type="submit" class="btn">âœ¨ Envoyer maintenant</button>
  </form>

  <!-- ğŸ“¥ Formulaire Recevoir -->
  <form id="formReceive" class="form receive" style="display: none;">
    <div class="section-title">RÃ©ception</div>
    <label for="amountReceive">ğŸ’° Montant attendu :</label>
    <input type="number" id="amountReceive" placeholder="Montant" required>
    <button type="submit" class="btn">âœ… Confirmer rÃ©ception</button>
  </form>

  <!-- Simulation des frais -->
  <div class="simulation-box" id="simulationBox">
    <div class="simulation-row">Montant : <span id="simAmount">0.00 EUR</span></div>
    <div class="simulation-row">Frais : <span id="simFees">-1.50 EUR</span></div>
    <div class="simulation-row">Montant reÃ§u : <span class="highlight" id="simReceived">98.50 EUR</span></div>
  </div>

</section>

<!-- Footer -->
<footer class="footer">
  <p>Â© 2025 KwikSend. Tous droits rÃ©servÃ©s.</p>
</footer>

<!-- Scripts -->
<script>
// ğŸ® Configuration des opÃ©rateurs et frais
const OPERATORS = {
    africa: [
        { name: 'Orange Money', code: 'OM', emoji: 'ğŸŸ ' },
        { name: 'MTN Money', code: 'MTN', emoji: 'ğŸŸ¡' },
        { name: 'Wave', code: 'WAVE', emoji: 'ğŸ”µ' },
        { name: 'Moov Money', code: 'MOOV', emoji: 'ğŸŸ¢' }
    ]
};

const FEES = {
    fixed: 1.50,
    percent: 0.009
};

const CONVERSION_RATE = 650; // 1 EUR = 650 FCFA

// Ã‰tat global
let currentDirection = 'send';
let selectedPaymentMethod = null;

// ğŸ”„ TOGGLE DIRECTION
function switchDirection(direction) {
    currentDirection = direction;
    document.querySelectorAll('.toggle-btn').forEach(btn => btn.classList.remove('active'));
    document.querySelector(`[data-direction="${direction}"]`).classList.add('active');

    if (direction === 'send') {
        document.getElementById('formSend').style.display = 'block';
        document.getElementById('formReceive').style.display = 'none';
    } else {
        document.getElementById('formSend').style.display = 'none';
        document.getElementById('formReceive').style.display = 'block';
    }
}

// ğŸ’³ Moyen de paiement
function selectPaymentMethod(method) {
    selectedPaymentMethod = method;
    document.querySelectorAll('#paymentOptions button').forEach(btn => {
        btn.classList.toggle('selected', btn.onclick.toString().includes(method));
    });
}

// Simulation Envoi
function updateSimulation() {
    let amountEUR = document.getElementById('amountSend').value || 0;
    if (document.getElementById('currencySend').value === 'FCFA') {
        amountEUR = amountEUR / CONVERSION_RATE;
    }

    const fees = FEES.fixed + (amountEUR * FEES.percent);
    const received = amountEUR - fees;

    document.getElementById('simAmount').textContent = parseFloat(amountEUR).toFixed(2) + ' EUR';
    document.getElementById('simFees').textContent = '-' + fees.toFixed(2) + ' EUR';
    document.getElementById('simReceived').textContent = received.toFixed(2) + ' EUR';
}

// ğŸ§­ Gestion de la dÃ©connexion
function logout() {
    localStorage.removeItem("kwiksend_user");
    window.location.href = "connexion.html";
}
</script>

</body>
</html>
